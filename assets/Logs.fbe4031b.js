import{r as m,b as l,j as o,k as u,d as y,N as T,O as b,y as P,P as R,u as L,C,S as N,Q as W,T as w,g as k,U as j,i as z,c as I}from"./index.2260f7b0.js";import{a as O,F}from"./index.esm.1c574b8e.js";import{r as M,s as $,f as A}from"./logs.54793aab.js";import{d as B}from"./debounce.c2d20996.js";import{u as D}from"./useRemainingViewPortHeight.7d856509.js";import{F as E,p as H}from"./Fab.cafef32b.js";import{P as q,a as K}from"./play.448f9d9c.js";function Q(e,s){if(e==null)return{};var r=U(e,s),n,t;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],!(s.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function U(e,s){if(e==null)return{};var r={},n=Object.keys(e),t,a;for(a=0;a<n.length;a++)t=n[a],!(s.indexOf(t)>=0)&&(r[t]=e[t]);return r}var _=m.exports.forwardRef(function(e,s){var r=e.color,n=r===void 0?"currentColor":r,t=e.size,a=t===void 0?24:t,p=Q(e,["color","size"]);return l("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[o("circle",{cx:"11",cy:"11",r:"8"}),o("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})});_.propTypes={color:u.exports.string,size:u.exports.oneOfType([u.exports.string,u.exports.number])};_.displayName="Search";const V=_,Y="_RuleSearch_1gcst_1",G="_RuleSearchContainer_1gcst_5",J="_inputWrapper_1gcst_10",X="_input_1gcst_10",Z="_iconWrapper_1gcst_35",g={RuleSearch:Y,RuleSearchContainer:G,inputWrapper:J,input:X,iconWrapper:Z};function ee({dispatch:e,searchText:s,updateSearchText:r}){const[n,t]=m.exports.useState(s),a=m.exports.useCallback(i=>{e(r(i))},[e,r]),p=m.exports.useMemo(()=>B(a,300),[a]),d=i=>{t(i.target.value),p(i.target.value)};return o("div",{className:g.RuleSearch,children:l("div",{className:g.RuleSearchContainer,children:[o("div",{className:g.inputWrapper,children:o("input",{type:"text",value:n,onChange:d,className:g.input})}),o("div",{className:g.iconWrapper,children:o(V,{size:20})})]})})}const te=e=>({searchText:T(e),updateSearchText:b}),oe=y(te)(ee),re="_logMeta_1dg5t_1",ne="_logType_1dg5t_8",se="_logTime_1dg5t_18",ae="_logText_1dg5t_24",ce="_logsWrapper_1dg5t_37",ie="_logPlaceholder_1dg5t_51",le="_logPlaceholderIcon_1dg5t_64",c={logMeta:re,logType:ne,logTime:se,logText:ae,logsWrapper:ce,logPlaceholder:ie,logPlaceholderIcon:le},{useCallback:x,memo:pe,useEffect:ge}=z,f=30,de={debug:"#28792c",info:"var(--bg-log-info-tag)",warning:"#b99105",error:"#c11c1c"};function he({time:e,even:s,payload:r,type:n}){const t=I({even:s},"log");return o("div",{className:t,children:l("div",{className:c.logMeta,children:[o("div",{className:c.logTime,children:e}),o("div",{className:c.logType,style:{backgroundColor:de[n]},children:n}),o("div",{className:c.logText,children:r})]})})}function ue(e,s){return s[e].id}const me=pe(({index:e,style:s,data:r})=>{const n=r[e];return o("div",{style:s,children:o(he,{...n})})},O);function fe({dispatch:e,logLevel:s,apiConfig:r,logs:n,logStreamingPaused:t}){const a=P(),p=x(()=>{t?M({...r,logLevel:s}):$(),a.app.updateAppConfig("logStreamingPaused",!t)},[r,s,t,a.app]),d=x(S=>e(R(S)),[e]);ge(()=>{A({...r,logLevel:s},d)},[r,s,d]);const[i,v]=D(),{t:h}=L();return l("div",{children:[o(C,{title:h("Logs")}),o(oe,{}),o("div",{ref:i,style:{paddingBottom:f},children:n.length===0?l("div",{className:c.logPlaceholder,style:{height:v-f},children:[o("div",{className:c.logPlaceholderIcon,children:o(N,{width:200,height:200})}),o("div",{children:h("no_logs")})]}):l("div",{className:c.logsWrapper,children:[o(F,{height:v-f,width:"100%",itemCount:n.length,itemSize:80,itemData:n,itemKey:ue,children:me}),o(E,{icon:t?o(q,{size:16}):o(K,{size:16}),mainButtonStyles:t?{background:"#e74c3c"}:{},style:H,text:h(t?"Resume Refresh":"Pause Refresh"),onClick:p})]})})]})}const _e=e=>({logs:W(e),logLevel:w(e),apiConfig:k(e),logStreamingPaused:j(e)}),Re=y(_e)(fe);export{Re as default};
